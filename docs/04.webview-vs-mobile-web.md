# CH04-01. 웹뷰 vs 모바일 웹

## 🌐 웹뷰란?

- 웹 콘텐츠를 보기 위해서는 일반적으로 브라우저가 필요하다.
- 웹뷰(WebView)는 **브라우저 앱을 벗어나지 않고**,  
  모바일 앱 내부에서 웹 페이지를 표시하기 위한 컴포넌트다.
- 서비스 제공자 입장에서는 **사용자가 앱을 이탈하지 않도록** 하기 위한 선택이다.

> 웹뷰는  
> “웹을 앱 안에 포함시키는 방식”이다.

---

## ❓ 왜 웹뷰를 사용하는가 (서비스 관점)

### 목적은 오직 서비스 측면

1. 기존 네이티브 쇼케이스 화면을 웹뷰로 교체
2. 더 많은 기능을 **더 빠르게 제공**
3. 기민한 프로모션, 잦은 변경이 필요한 화면 대응

> 네이티브 앱 개발은 웹에 비해 배포 속도가 느리고  
> 변경 비용이 크기 때문에 웹뷰가 선택된다.

---

## 📱 네이티브로만 구현하면 안 될까?

### 서비스만 놓고 보면 네이티브가 이상적

- 기술적인 제약을 배제하면 네이티브 구현은 장점이 많다.
- 시도할 수 있는 범위가 넓고 사용자 경험도 뛰어나다.

### 하지만 현실적인 단점이 존재

#### 1. 앱 스토어 리스크

- 스토어 정책 변경
- 스토어별 가이드라인 상이
- 심사 및 배포 지연

#### 2. 앱 버전별 하위 호환성 문제

- 강제 업데이트 불가
- 다양한 버전의 앱 사용자가 공존
- 모든 버전을 호환해야 하는 부담

#### 3. 희귀한 앱 개발 인력

- 개발 및 유지 비용 증가
- 기능이 늘어날수록 복잡도 급증

> 이로 인해 **순수 네이티브 앱만으로 구성된 대규모 서비스는 드물다.**

---

## 🌍 웹뷰는 웹과 같은가?

### 모바일 웹의 특징

- 독립된 애플리케이션
- 독립된 서비스
- 앱이 메인 채널인 경우, 웹은 메인이 되기 어려움

> 앱과 웹이 완전히 동등한 기능을 제공하는 경우는 드물다.

---

## 🧩 웹뷰의 본질

### 웹뷰 #1

- 웹뷰는 **앱 내 컴포넌트 중 하나**
- 어플리케이션의 구성 요소일 뿐이다.

> 사용자는  
> “이건 웹이다 / 이건 앱이다”를 구분하지 않는다.  
> **하나의 서비스로 인식한다.**

이 차이로 인해 **성능에 대한 접근 방식**이 달라진다.

---

## ⚡ 웹뷰 성능 접근 방식의 차이

### 웹뷰 #2 – 성능 지표의 중요성

웹뷰 내 웹앱은 **네이티브와 동일한 기대치**를 가진다.

1. **LCP (Largest Contentful Paint)**

   - 최대한 빠르게
   - 네이티브 화면과 이어지는 사용자 동선

2. **CLS (Cumulative Layout Shift)**

   - 화면 덜컥거림 최소화
   - 레이아웃 변화에 매우 민감

3. **FID / FIS (First Input Delay / First Input Speed)**
   - 터치, 클릭에 즉각 반응
   - 앱 사용자는 기다려주지 않는다

> 웹에서는 1~2초 지연이 허용되기도 하지만  
> **앱 내 웹뷰에서는 즉각적인 반응이 필수**다.

---

## 🔄 웹뷰 로딩 UX의 복잡성

웹뷰 화면은 다음과 같은 단계로 구성된다.

1. 네이티브 화면 렌더링
2. 웹뷰 컴포넌트 로딩
3. 웹 콘텐츠 로딩
4. 웹앱 초기화 및 렌더링

→ **각 단계마다 로딩이 발생**한다.

---

## ⏳ 웹뷰 로딩 전략

### 웹뷰 #3.1 앱에서 로딩 구현

#### 특징

1. 앱 ↔ 웹 커뮤니케이션 필요
2. 웹 콘텐츠 로딩 완료 시점 파악이 어려움
3. 웹앱 크래시 대응 불가

#### 문제점

- 웹앱이 JS 에러로 크래시되어도 앱에서 인지 불가
- 풀스크린 웹뷰의 경우 하얀 화면에 갇히는 상황 발생 가능

---

### 웹뷰 #3.2 웹에서 로딩 구현

#### 특징

1. 로더 In / Out 제어 가능
2. 웹앱 실행 전까지 딜레이 구간 존재
3. 단순 로딩보다 **스켈레톤 UI 전략이 적합**
4. 적극적인 캐싱 전략 필요

#### 주의점

- 네이티브 → 웹뷰 → JS 실행 전 구간은 제어 불가
- 이 구간이 느리면 로더가 보이지 않는 문제가 발생할 수 있음

---

## 🧾 정리

- 웹뷰는 웹이 아니라 **앱의 구성 요소**
- 네이티브와 동일한 성능 기대치를 가져야 한다
- LCP, CLS, FID를 모두 적극적으로 관리해야 한다
- 로딩 UX는 앱/웹 어느 한쪽에만 의존하면 위험하다
- 웹뷰 특성을 고려한 **다단계 로딩 전략**이 필수다

> 웹뷰 개발은  
> “웹 개발”이 아니라  
> **“앱 경험을 만드는 개발”에 가깝다.**

# CH04-02. 웹뷰 체크리스트

웹뷰 기반 웹앱을 개발하기 전에 반드시 확인해야 할 항목들이다.  
이 체크리스트는 **기능 구현 이전 단계에서의 필수 점검 사항**이다.

---

## ✅ 체크리스트 #1

### 플랫폼 최소 지원 버전 확인

- iOS 최소 지원 버전 확인
- Android 최소 지원 버전 확인
- 서비스 대상 사용자 기준으로 지원 범위 결정
- OS 버전에 따른 웹뷰 기능 차이 인지

> 최소 지원 버전에 따라  
> 사용 가능한 웹뷰 컴포넌트와 기능이 달라질 수 있다.

---

## ✅ 체크리스트 #2

### WebView 구현 컴포넌트 확인

플랫폼별로 사용 중인 웹뷰 컴포넌트를 반드시 확인한다.

- **iOS**

  - UIWebView (Deprecated)
  - WKWebView
  - SFSafariViewController

- **Android**

  - Chromium WebView
  - GeckoView

- 기타
  - 커스텀 WebView
  - 서드파티 WebView 컴포넌트 등

> 웹뷰 컴포넌트에 따라  
> 성능, 보안, API 지원 범위가 크게 달라진다.

---

## ✅ 체크리스트 #3

### 웹뷰 기능 설정 확인

웹뷰에서 웹앱이 정상적으로 동작하기 위한 필수 설정 항목들이다.

- 쿠키 / LocalStorage 사용 가능 여부
- 캐시 활성화 여부
- JavaScript 실행 및 통신 설정
- 앱 ↔ 웹 메시지 통신 설정
- 웹 콘텐츠 스케일 조정
- 화면 확대 / 축소 정책
- 기타 플랫폼별 옵션 설정

> 이 단계에서 누락된 설정은  
> 이후 디버깅 비용을 급격히 증가시킨다.

---

## 🧾 정리

- 웹뷰 개발의 시작은 **환경 확인**
- 플랫폼, 컴포넌트, 설정을 먼저 명확히 한다
- 기능 구현보다 **사전 체크가 더 중요**할 수 있다

> 웹뷰 이슈의 상당수는  
> 코드가 아니라 **초기 설정 누락**에서 발생한다.
